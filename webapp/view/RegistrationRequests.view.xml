<mvc:View controllerName="com.lab2dev.finalprojectprodev.controller.RegistrationRequests"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m"
    xmlns:table="sap.ui.table"
    xmlns:m="sap.m"
    xmlns:u="sap.ui.unified"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout">
    <Page id="page" busyIndicatorDelay="1000">
    <ObjectHeader
            title="Cadastro"
            responsive="true"
            introActive="false"
        >
            <headerContainer>
                <HeaderContainer>
                    <l:VerticalLayout>
                        <Breadcrumbs
                            class="sapUiTinyMarginTop sapUiLargeMarginBottom"
                            currentLocationText="Aprovação"
                        >
                            <Link text="Cadastro" />
                        </Breadcrumbs>

                        <l:VerticalLayout class="sapUiSmallMarginBottom">
                            <!--  Filtro qui -->
                        </l:VerticalLayout>
                    </l:VerticalLayout>
                </HeaderContainer>
            </headerContainer>
        </ObjectHeader>
        <content>
            <VBox
                fitContainer="true"
                class="sapUiResponsiveMargin"
                visible="{viewDetails>/tableVisible}"
            >
                <HBox height="100%">
                    <table:Table
                        id="RegistrationRequestsTable"
                        rows="{/newRequests}"
                        selectionMode="MultiToggle"
                        paste="onPaste"
                        rowMode="Auto"
                    >
                        <table:extension>
                            <m:OverflowToolbar height="3rem">
                                <m:Title
                                    class="sapUiTinyMargin"
                                    id="title"
                                    text="Solicitação de Cadastros ({viewDetails>/totalRegistrations})"
                                />
                                <ToolbarSpacer />
                                <SearchField
                                    placeholder="Pesquisar"
                                    width="13.75rem"
                                    liveChange=".onSearch"
                                />
                                <Button
                                    type="Accept"
                                    text="Confirmar"
                                    press=""
                                />
                                <Button
                                    type="Reject"
                                    text="Recusar"
                                    press="onRefuseRegistration"
                                />
                                <Button
                                    type="Transparent"
                                    text="Editar"
                                    iconFirst="false"
                                    icon="sap-icon://edit"
                                    press=""
                                />
                            </m:OverflowToolbar>
                        </table:extension>
                        <table:columns>
                            <table:Column visible="false">
                                <m:Label
                                    design="Bold"
                                    text="ID"
                                />
                                <table:template> 
                                        <m:Text text="{ID}" />
                                </table:template>
                            </table:Column>
                            <table:Column>
                                <m:Label
                                    design="Bold"
                                    text="Nome Completo"
                                />
                                <table:template>
                                    <VBox> 
                                        <m:Text text="{FullName}" visible="{= !${viewDetails>/bEditTableEnabled}}" />
                                        <m:Input value="{FullName}" visible="{viewDetails>/bEditTableEnabled}" />
                                    </VBox>
                                </table:template>
                            </table:Column>
                            <table:Column>
                                <m:Label
                                    design="Bold"
                                    text="Empresa"
                                />
                                <table:template>
                                    <VBox>
                                        <m:Text text="{CompanyName}" visible="{= !${viewDetails>/bEditTableEnabled}}" />
                                        <m:Input value="{CompanyName}" visible="{viewDetails>/bEditTableEnabled}" />
                                    </VBox>
                                </table:template>
                            </table:Column>
                            <table:Column>
                                <m:Label
                                    design="Bold"
                                    text="Cargo"
                                />
                                <table:template>
                                    <VBox>
                                        <m:Text text="{JobTitle}" visible="{= !${viewDetails>/bEditTableEnabled}}"/>
                                        <m:Input value="{JobTitle}" visible="{viewDetails>/bEditTableEnabled}" />
                                    </VBox>
                                </table:template>
                            </table:Column>
                            <table:Column>
                                <m:Label
                                    design="Bold"
                                    text="Grupo selecionado"
                                />
                                <table:template>
                                 <VBox>
                                        <m:Text text="{AccessGroup}" visible="{= !${viewDetails>/bEditTableEnabled}}"/>
                                        <Select
                                            id="accessGroupSelect"
                                            width="100%"
                                            forceSelection="false"
                                            selectedKey="{AccessGroup}"
                                            autoAdjustWidth="false"
                                            visible="{viewDetails>/bEditTableEnabled}"
                                            >
                                            <core:Item key="Cliente" text="Cliente" />
                                            <core:Item key="Administrator" text="Administrador" />
                                        </Select>
                                    </VBox>
                                </table:template>
                            </table:Column>
                            <table:Column>
                                <m:Label
                                    design="Bold"
                                    text="E-mail"
                                />
                                <table:template>
                                    <VBox>
                                        <m:Text text="{Email}" wrapping="false" visible="{= !${viewDetails>/bEditTableEnabled}}"/>
                                        <m:Input value="{Email}" visible="{viewDetails>/bEditTableEnabled}" />
                                    </VBox>
                                </table:template>
                            </table:Column>
                            <table:Column>
                                <m:Label
                                    design="Bold"
                                    text="CPF"
                                />
                                <table:template>
                                    <VBox>
                                        <m:Text text="{CPF}" visible="{= !${viewDetails>/bEditTableEnabled}}"/>
                                        <m:Input value="{CPF}" visible="{viewDetails>/bEditTableEnabled}" />
                                    </VBox>
                                </table:template>
                            </table:Column>
                            <table:Column>
                                <m:Label
                                    design="Bold"
                                    text="Data de solicitação"
                                />
                                <table:template>
                                    <VBox>
                                        <m:Text text="{CPF}" visible="{= !${viewDetails>/bEditTableEnabled}}"/>
                                        <m:Input value="{CPF}" visible="{viewDetails>/bEditTableEnabled}" />
                                    </VBox>
                                </table:template>
                            </table:Column>
                        </table:columns>
                    </table:Table>
                </HBox>
            </VBox>
        </content>

        <footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button
                    id="CreateUserManuallyDialog"
                    type="Emphasized"
                    icon="sap-icon://excel-attachment"
                    iconFirst="false"
                    text="Exportar Excel"
                    press=".onOpenDialog"
                />
                <Button
                    id="ConfirmUserImportDialog"
                    type="Emphasized"
                    text="Adicionar Usuários"
                    press=".onNavToRegisterNewUsers"
                />
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>
